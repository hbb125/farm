(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["goodsPage/goodsLibrary/goodsLibrary"],{81:
/*!************************************************************************************!*\
  !*** E:/桌面/菜商宝小程序/farm/main.js?{"page":"goodsPage%2FgoodsLibrary%2FgoodsLibrary"} ***!
  \************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";(function(t){o(/*! uni-pages */4),o(/*! @dcloudio/uni-stat */5);i(o(/*! vue */2));var e=i(o(/*! ./goodsPage/goodsLibrary/goodsLibrary.vue */82));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},82:
/*!*****************************************************************!*\
  !*** E:/桌面/菜商宝小程序/farm/goodsPage/goodsLibrary/goodsLibrary.vue ***!
  \*****************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var i=o(/*! ./goodsLibrary.vue?vue&type=template&id=26c4aea7& */83),n=o(/*! ./goodsLibrary.vue?vue&type=script&lang=js& */85);for(var s in n)"default"!==s&&function(t){o.d(e,t,(function(){return n[t]}))}(s);o(/*! ./goodsLibrary.vue?vue&type=style&index=0&lang=css& */87);var r,a=o(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */14),c=Object(a["default"])(n["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],r);c.options.__file="goodsPage/goodsLibrary/goodsLibrary.vue",e["default"]=c.exports},83:
/*!************************************************************************************************!*\
  !*** E:/桌面/菜商宝小程序/farm/goodsPage/goodsLibrary/goodsLibrary.vue?vue&type=template&id=26c4aea7& ***!
  \************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,o){"use strict";o.r(e);var i=o(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodsLibrary.vue?vue&type=template&id=26c4aea7& */84);o.d(e,"render",(function(){return i["render"]})),o.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]})),o.d(e,"recyclableRender",(function(){return i["recyclableRender"]})),o.d(e,"components",(function(){return i["components"]}))},84:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/桌面/菜商宝小程序/farm/goodsPage/goodsLibrary/goodsLibrary.vue?vue&type=template&id=26c4aea7& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,o){"use strict";var i;o.r(e),o.d(e,"render",(function(){return n})),o.d(e,"staticRenderFns",(function(){return r})),o.d(e,"recyclableRender",(function(){return s})),o.d(e,"components",(function(){return i}));var n=function(){var t=this,e=t.$createElement,o=(t._self._c,t.__map(t.classifyData,(function(e,o){var i=t.__get_orig(e),n=t.__map(e.goods_type.goods_list,(function(e,o){var i=t.__get_orig(e),n=t.add_active.indexOf(e.stock_id),s="2"==e.pricing_method?parseInt(e.amount):null;return{$orig:i,g0:n,m0:s}}));return{$orig:i,l0:n}})));t.$mp.data=Object.assign({},{$root:{l1:o}})},s=!1,r=[];n._withStripped=!0},85:
/*!******************************************************************************************!*\
  !*** E:/桌面/菜商宝小程序/farm/goodsPage/goodsLibrary/goodsLibrary.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var i=o(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodsLibrary.vue?vue&type=script&lang=js& */86),n=o.n(i);for(var s in i)"default"!==s&&function(t){o.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},86:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/桌面/菜商宝小程序/farm/goodsPage/goodsLibrary/goodsLibrary.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{n:1,loading:!1,finished:!1,url:"https://backend.juleikeji.com/",name:"wkiwi",height:0,categoryActive:0,scrollTop:0,scrollLeftTop:0,classifyData:[],arr:[0,584,1168,1752,2336,2805,3274,3858,4442,4911,5380,5734,6203,6672,7017],leftItemHeight:51,navLeftHeight:0,diff:0,tabBarHeight:0,filter_type_id:0,page_size:0,isShow:!1,number:0,filterId:96,goods:[],add_active:[]}},created:function(){},onLoad:function(){this.height=t.getSystemInfoSync().windowHeight-this.tabBarHeight},onReady:function(){this.getHeightList(),this.getGoodsData()},computed:{},methods:{scrolltolower:function(){console.log("触底了"),this.n++,!this.finished&&(this.loading=!0,this.getGoodsData(this.n))},getGoodsData:function(){var t=this,e=this;this.$nextTick((function(){t.myRequest("/stock/get-my-stock?page="+t.n,{filter_type_id:t.filter_type_id,page_size:t.page_size},"POST").then((function(t){console.log(t),e.classifyData=t.data.data})),t.getHeightList()}))},getHeightList:function(){var e=this,o=t.createSelectorQuery();o.selectAll(".nav-left-item").boundingClientRect((function(t){e.leftItemHeight=t[0].height,e.navLeftHeight=e.leftItemHeight*e.classifyData.length,e.diff=e.navLeftHeight-e.height})),setTimeout((function(){o.selectAll(".box").boundingClientRect((function(t){var o=[0],i=0;t.forEach((function(t){i+=t.height,o.push(i)})),e.arr=o})).exec()}),1e3)},scroll:function(t){var e=this;this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){e.scrollHeight=t.detail.scrollTop+1;for(var o=0;o<e.arr.length;o++){var i=e.arr[o],n=e.arr[o+1];if(!n||e.scrollHeight>=i&&e.scrollHeight<n)return e.categoryActive=o,e.diff>0&&(e.scrollLeftTop=Math.round(e.categoryActive*e.diff/(e.classifyData.length-1))),!1}e.categoryActive=0,e.timeoutId=void 0}),10)},categoryClickMain:function(t,e){console.log(t),this.filterId=t.goods_type.goods_type_info.type_id,this.categoryActive=e,this.scrollTop==this.arr[e]?this.scrollTop=this.scrollTop+1:this.scrollTop=this.arr[e]},cart:function(e,o){console.log(e),this.goods.push({goods_id:parseInt(e.goods_id),pricing_method:parseInt(e.pricing_method),unit:e.unit,unit_price:parseFloat(e.guiding_price)});var i={};this.goods=this.goods.reduce((function(t,e){return!i[e.goods_id+e.pricing_method+e.unit+e.unit_price]&&(i[e.goods_id+e.pricing_method+e.unit+e.unit_price]=t.push(e)),t}),[]),console.log(this.goods);var n=this.add_active.indexOf(e.stock_id);n>=0?(this.add_active.splice(n,1),this.goods.splice(n,1)):(t.showToast({title:"选中了 "+o,icon:"none"}),this.add_active.push(e.stock_id))},cansel:function(){0!=this.goods.length&&(this.goods=[],t.showToast({title:"商品已取消"})),t.navigateBack(),this.showGoods=!1},save:function(){var e=this;0!=this.goods.length?t.request({url:"https://api.juleikeji.com/goods-shelves/add",method:"POST",dataType:"JSON",header:{"content-type":"application/json",Authorization:"Bearer "+t.getStorageSync("token")},data:this.goods,success:function(o){var i=JSON.parse(o.data);console.log(i),200==i.status?(t.showToast({title:"商品上架成功"}),e.goods=[],e.add_active=[],setTimeout((function(){t.navigateTo({url:"../myGoods/myGoods"})}),1e3)):60010==i.status?(t.showToast({title:i.message}),e.goods=[],e.add_active=[]):t.showToast({title:"商品上架失败"})}}):t.showToast({title:"请选择商品"})}},components:{}};e.default=o}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},87:
/*!**************************************************************************************************!*\
  !*** E:/桌面/菜商宝小程序/farm/goodsPage/goodsLibrary/goodsLibrary.vue?vue&type=style&index=0&lang=css& ***!
  \**************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var i=o(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodsLibrary.vue?vue&type=style&index=0&lang=css& */88),n=o.n(i);for(var s in i)"default"!==s&&function(t){o.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},88:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/桌面/菜商宝小程序/farm/goodsPage/goodsLibrary/goodsLibrary.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,o){}},[[81,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/goodsPage/goodsLibrary/goodsLibrary.js.map