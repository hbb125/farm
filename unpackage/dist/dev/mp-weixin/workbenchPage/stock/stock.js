(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["workbenchPage/stock/stock"],{216:
/*!**************************************************************************!*\
  !*** E:/桌面/菜商宝小程序/farm/main.js?{"page":"workbenchPage%2Fstock%2Fstock"} ***!
  \**************************************************************************/
/*! no static exports found */function(t,o,e){"use strict";(function(t){e(/*! uni-pages */4),e(/*! @dcloudio/uni-stat */5);n(e(/*! vue */2));var o=n(e(/*! ./workbenchPage/stock/stock.vue */217));function n(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},217:
/*!*******************************************************!*\
  !*** E:/桌面/菜商宝小程序/farm/workbenchPage/stock/stock.vue ***!
  \*******************************************************/
/*! no static exports found */function(t,o,e){"use strict";e.r(o);var n=e(/*! ./stock.vue?vue&type=template&id=2a0b58c4&scoped=true& */218),s=e(/*! ./stock.vue?vue&type=script&lang=js& */220);for(var i in s)"default"!==i&&function(t){e.d(o,t,(function(){return s[t]}))}(i);e(/*! ./stock.vue?vue&type=style&index=0&id=2a0b58c4&scoped=true&lang=scss& */222);var c,r=e(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */14),a=Object(r["default"])(s["default"],n["render"],n["staticRenderFns"],!1,null,"2a0b58c4",null,!1,n["components"],c);a.options.__file="workbenchPage/stock/stock.vue",o["default"]=a.exports},218:
/*!**************************************************************************************************!*\
  !*** E:/桌面/菜商宝小程序/farm/workbenchPage/stock/stock.vue?vue&type=template&id=2a0b58c4&scoped=true& ***!
  \**************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,o,e){"use strict";e.r(o);var n=e(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./stock.vue?vue&type=template&id=2a0b58c4&scoped=true& */219);e.d(o,"render",(function(){return n["render"]})),e.d(o,"staticRenderFns",(function(){return n["staticRenderFns"]})),e.d(o,"recyclableRender",(function(){return n["recyclableRender"]})),e.d(o,"components",(function(){return n["components"]}))},219:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/桌面/菜商宝小程序/farm/workbenchPage/stock/stock.vue?vue&type=template&id=2a0b58c4&scoped=true& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,o,e){"use strict";var n;e.r(o),e.d(o,"render",(function(){return s})),e.d(o,"staticRenderFns",(function(){return c})),e.d(o,"recyclableRender",(function(){return i})),e.d(o,"components",(function(){return n}));try{n={comboxList:function(){return e.e(/*! import() | components/combox-list/combox-list */"components/combox-list/combox-list").then(e.bind(null,/*! @/components/combox-list/combox-list.vue */318))},gUpload:function(){return e.e(/*! import() | components/g-upload/g-upload */"components/g-upload/g-upload").then(e.bind(null,/*! @/components/g-upload/g-upload.vue */325))},uniIcons:function(){return Promise.all(/*! import() | components/uni-icons/uni-icons */[e.e("common/vendor"),e.e("components/uni-icons/uni-icons")]).then(e.bind(null,/*! @/components/uni-icons/uni-icons.vue */254))},uniCombox:function(){return e.e(/*! import() | components/uni-combox/uni-combox */"components/uni-combox/uni-combox").then(e.bind(null,/*! @/components/uni-combox/uni-combox.vue */332))}}}catch(r){if(-1===r.message.indexOf("Cannot find module")||-1===r.message.indexOf(".vue"))throw r;console.error(r.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var s=function(){var t=this,o=t.$createElement;t._self._c},i=!1,c=[];s._withStripped=!0},220:
/*!********************************************************************************!*\
  !*** E:/桌面/菜商宝小程序/farm/workbenchPage/stock/stock.vue?vue&type=script&lang=js& ***!
  \********************************************************************************/
/*! no static exports found */function(t,o,e){"use strict";e.r(o);var n=e(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./stock.vue?vue&type=script&lang=js& */221),s=e.n(n);for(var i in n)"default"!==i&&function(t){e.d(o,t,(function(){return n[t]}))}(i);o["default"]=s.a},221:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/桌面/菜商宝小程序/farm/workbenchPage/stock/stock.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,o,e){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=e(/*! ../../util/commonly */213),s={goods_id:"",unit:"",amount:"",unit_price:"",purchase_date:"",pricing_method:""},i={data:function(){return{queryList:[],unitList:["斤","kg","件"],pricingMethod:["","计重","计件"],supplierId:"",goodsList:[(0,n.clone)(s)],imgList:[],supplierList:[],goodsData:[],supplierData:[],page_size:0,goods_id:"",order_id:"",base64Arr:[],date1:(new Date).toISOString().slice(0,10)}},onLoad:function(){this.getGoodsData(),this.getSupplierList()},methods:{getSupplierId:function(t){console.log(t),this.supplierId=t},getSupplierList:function(){var t=this;this.myRequest("/merchant-staff/show-supplier",{page_size:this.page_size},"POST").then((function(o){t.supplierData=o.data.data.items,o.data.data.items.forEach((function(o){t.supplierList.push(o.supplier_name)}))}))},getGoodsData:function(t){var o=this,e=this;this.$nextTick((function(){o.myRequest("/goods/get-all-goods","POST").then((function(t){console.log(t),t.data.data.forEach((function(t){e.goodsData.push.apply(e.goodsData,t.goods_type.goods_list),t.goods_type.goods_list.forEach((function(t){e.queryList.push(t.goods_name)}))}))}))}))},bindDateChange:function(t,o){console.log("picker发送选择改变，携带值为",t.target,o),this.date1=t.target.value},selectMethod:function(o){var e=this;console.log(o),t.showActionSheet({itemList:this.pricingMethod,success:function(t){switch(console.log(t),e.goodsList[o].pricing_method=t.tapIndex,t.tapIndex){case 1:e.unitList=["斤","kg"],e.goodsList[o].unit="kg";break;case 2:e.goodsList[o].unit="件",e.unitList=["件"];break}}})},selectUnit:function(o){var e=this;t.showActionSheet({itemList:this.unitList,success:function(t){console.log(t),e.goodsList[o].unit=e.unitList[t.tapIndex]}})},addGoodsHandle:function(){this.goodsList.push((0,n.clone)(s))},dleGoodsHandle:function(t){this.goodsList.splice(t,1)},chooseFile:function(t,o){console.log("上传图片_list：",t),console.log("上传图片_v：",o),this.uploadFileToServe(o),this.urlTobase64(o[0])},urlTobase64:function(o){console.log("调用了urlTobase64");var e=t.getFileSystemManager().readFileSync(o,"base64");this.base64Arr.push(e)},imgDelete:function(t,o){console.log("删除图片_list：",t),console.log("删除图片_eq：",o),this.base64Arr.splice(o,1)},uploadFileToServe:function(t){},getGoodsId:function(t){console.log(t),this.goodsList[this.goodsList.length-1].goods_id=t},checked:function(){t.showModal({title:"提示",content:"请检查信息是否填写完善"})},upload:function(){var o=this;if(""!=this.supplierId)if(""!=this.order_id)if(0!=this.base64Arr.length){var e=this.goodsList.every((function(t){return t.purchase_date=o.date1,""!=t.goods_id&&""!=t.amount&&""!=t.purchase_date}));if(console.log(e),e){var n=this,s={batch_num:this.order_id,supplier_id:this.supplierId},i={batch_inf:s,batch_pics:this.base64Arr,goods_list:this.goodsList};console.log(this.goodsList),console.log(this.base64Arr),console.log(i),t.request({url:"https://api.juleikeji.com/stock/add-purchase-and-stock",method:"POST",dataType:"JSON",header:{"content-type":"application/json",Authorization:"Bearer "+t.getStorageSync("token")},data:i,success:function(o){console.log(o);var e=JSON.parse(o.data);200==e.status&&(t.showToast({title:"商品进货成功"}),n.goodsList=[],setTimeout((function(){t.navigateTo({url:"/goodsPage/goodsLibrary/goodsLibrary"})}),500)),1001!=e.status||t.showModal({title:"提示",content:"批次已存在请勿重复添加"})}})}else this.checked()}else t.showModal({title:"提示",content:"请上传凭证"});else t.showModal({title:"提示",content:"请选择进货单号"});else t.showModal({title:"提示",content:"请选择供货商"})}}};o.default=i}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},222:
/*!*****************************************************************************************************************!*\
  !*** E:/桌面/菜商宝小程序/farm/workbenchPage/stock/stock.vue?vue&type=style&index=0&id=2a0b58c4&scoped=true&lang=scss& ***!
  \*****************************************************************************************************************/
/*! no static exports found */function(t,o,e){"use strict";e.r(o);var n=e(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./stock.vue?vue&type=style&index=0&id=2a0b58c4&scoped=true&lang=scss& */223),s=e.n(n);for(var i in n)"default"!==i&&function(t){e.d(o,t,(function(){return n[t]}))}(i);o["default"]=s.a},223:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/桌面/菜商宝小程序/farm/workbenchPage/stock/stock.vue?vue&type=style&index=0&id=2a0b58c4&scoped=true&lang=scss& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,o,e){}},[[216,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/workbenchPage/stock/stock.js.map